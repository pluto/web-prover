<html>
  <head></head>
  <body>
    <script type="module">
      import init, {prover, setup_tracing_web, initThreadPool} from "./pkg2/index.js"

      await init();
      setup_tracing_web("info,tlsn_extension_rs=debug");

      const numConcurrency = navigator.hardwareConcurrency
      await initThreadPool(numConcurrency);

      // import init, { prover } from "./pkg/wasm_client.js";
      // await init();
    
      const p = await prover('https://localhost:8065/health', {
      method: 'GET',
      maxTranscriptSize: 16384,
      notaryUrl: 'https://localhost:7047',
      websocketProxyUrl: 'wss://localhost:8050?target=localhost:8065',
    }, [], []);

      // console.log(await prover(
      //   "https://example.com", // target url str
      //  {
      //     "method": "GET",
      //     "headers": {
      //       Connection: 'close',
      //       Accept: 'application/json',
      //       'Accept-Encoding': 'identity',
      //     },
      //     "body": "",
      //     "notaryUrl": "https://pluto:7047",
      //     "websocketProxyUrl": "wss://pluto:8050",
      //  }, [], []
      // ));
    </script>

    <p>Open Console to watch logs ...</p>
  </body>
</html>
